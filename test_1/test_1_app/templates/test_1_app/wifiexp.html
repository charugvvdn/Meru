
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>{{d}} Throughput graph</title>

    <!--[if lte IE 8]><script language="javascript" type="text/javascript" src="../excanvas.min.js"></script><![endif]-->
    <script language="javascript" type="text/javascript" src="http://www.flotcharts.org/flot/jquery.js"></script>
    <script language="javascript" type="text/javascript" src="http://www.flotcharts.org/flot/jquery.flot.js"></script>
    <script language="javascript" type="text/javascript" src="http://www.flotcharts.org/flot/jquery.flot.time.js"></script>
 </head>
    <body>
    <h1>{{d}} Throughput graph</h1>

    <div id="placeholder" style="width:600px;height:300px;"></div>

    

<script type="text/javascript">
$(function () {
    $("<div id='tooltip'></div>").css({
			position: "absolute",
			display: "none",
			border: "1px solid #fdd",
			padding: "2px",
			"background-color": "#fee",
			opacity: 0.80
		}).appendTo("body");

    var ary = new Array();
    var options = {
        series : {
           lines : { show : true},
           points : {show : true}
        },
        grid: {
            hoverable: true,
            clickable: true
         },
xaxis : {
            mode: "time",
           /* minTickSize: [1, "hour"],
            min: (new Date("2013/12/09")).getTime(),
            max: (new Date("2013/12/10")).getTime(),*/
            timeformat : "%H:%M:%S"
       }
    };

    $.ajax({
    type: "POST",
    url: "	",
    data: '{"mac" : ["AA:BB:CC:DD:00:DD"], "time" : [1386962155, 1397012155]}',
    contentType: "application/json; charset=utf-8",
    dataType: "json",
    success: function(result) {
	if(result['status']=='true')
	{
		for(var i =0 ;i< result['values'].length;i++)
		{
		
			ary.push(result['values'][i])

		}
		console.log(ary)
		$.plot($("#placeholder"), ary, options);
		$("#placeholder").bind("plothover", function (event, pos, item) {

			//if ($("#enablePosition:checked").length > 0) {
				var str = "(" + pos.x.toFixed(2) + ", " + pos.y.toFixed(2) + ")";
				$("#hoverdata").text(str);
			//}

			//if ($("#enableTooltip:checked").length > 0) {
				if (item) {

					var x = item.datapoint[0],
						y = item.datapoint[1];

					var date = new Date(x);
					var h = date.getUTCHours()
                    var m = date.getUTCMinutes()
                    var s = date.getUTCSeconds()
                    var formatted_date = h + ":" + m + ":" + s
                
					$("#tooltip").html(item.series.label + " of " + formatted_date+ " = " + y)
						.css({top: item.pageY+5, left: item.pageX+5})
						.fadeIn(200);
				} else {
					$("#tooltip").hide();
				}
			//}
		});

		$("#placeholder").bind("plotclick", function (event, pos, item) {
			if (item) {
				$("#clickdata").text(" - click point " + item.dataIndex + " in " + item.series.label);
				plot.highlight(item.series, item.datapoint);
			}
		});
	
	}
	else
		console.log('No graph to be plotted');
       
    }
});
   /* var d1 = [];
    for (var i = 0; i < 14; i += 0.5)
        d1.push([i, Math.sin(i)]);

    var d2 = [[0, 3], [4, 8], [8, 5], [9, 13]];

    // a null signifies separate line segments
    var d3 = [[0, 12], [7, 12], null, [7, 2.5], [12, 2.5]];
    
    $.plot($("#placeholder"), [ d1, d2, d3 ]);*/

});

</script>

 </body>
</html>

